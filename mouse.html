<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Mouse Event Demos</title>
	<style>
		#output {
			width: 400px;
			height: 200px;
		}
		div {
			background-color: white;
		}
		div.over {
			background-color: red;
		}
		#container {
			width: 200px;
			height: 200px;
			border: 1px solid black;
		}
		#inner_container {
			width: 100px;
			height: 100px;
			border: 1px solid blue;
		}
	</style>
	<script>
		var dojoConfig = {
			async: true,
			packages: [{
				name: 'eventd',
				location: '../eventd',
				lib: '.'
			}]
		};
	</script>
	<script src="dojo/dojo.js"></script>
	<script>
		require([
			'eventd/mouse',
			'dojo/_base/window',
			'dojo/on',
			'dojo/dom',
			'dojo/dom-class'
		], function(mouse, win, on, dom, cls){
			var logIt = (function(){
				var output = dom.byId("output");

				return function(){
					var str = "";

					for(var i=0, l=arguments.length; i<l; i++){
						if(i>0){
							str += " ";
						}
						str += arguments[i] + "";
					}

					output.innerHTML += "\r\n" + str;
					output.scrollTop = output.scrollHeight;
				};
			})();

			function onMouseEvents(id){
				var node = dom.byId(id);
				on(node, "mousedown", function(evt){
					logIt(id, "mousedown", evt);
				});
				on(node, "mouseup", function(evt){
					logIt(id, "mouseup", evt);
				});
				on(node, "change", function(evt){
					logIt(id, "change", evt);
				});
				on(node, "click", function(evt){
					logIt(id, "click", evt);
				});
			}

			function onMoveEvents(id){
				id = dom.byId(id);
				on(id, "mouseenter", function(evt){
					logIt(evt.target, "mouseenter", evt);
				});
				on(id, "mouseleave", function(evt){
					logIt(evt.target, "mouseleave", evt);
				});
				on(id, "mousemove", function(evt){
					logIt(evt.target, "mousemove", evt);
				});
			}

			onMouseEvents("chk1");
			onMouseEvents("chk2");

			on(win.body(), "mouseover", function(evt){
				cls.add(evt.target, "over");
			});
			on(win.body(), "mouseout", function(evt){
				cls.remove(evt.target, "over");
			});

			mouse.click("chk1").then.delay(function(){
				mouse.click("chk2").then.delay(function(){
					mouse.click("chk1").then.delay(function(){
						onMoveEvents(win.body());
						mouse.move(300, 300, 2000, true);
					},1000);
				},1000);
			},1000);
		});
	</script>
</head>
<body>
	<input id="chk1" type="checkbox">
	<input id="chk2" type="checkbox">
	<div id="container">
		<div id="inner_container"></div>
	</div>

	<div>
		Output:<br>
		<textarea id="output"></textarea>
	</div>
</body>
</html>
